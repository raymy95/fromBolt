import{s as B,n as j,o as F,a as Y}from"../chunks/DyjBc6Js.js";import{S as J,i as K,d as _,s as U,a as S,b as c,m as u,c as b,e as w,n as M,g as I,f as V,h as k,j as P,t as q,o as L}from"../chunks/DI51QYyl.js";import{s as N,e as G}from"../chunks/CR7VxdKE.js";import{g as O}from"../chunks/C8Z6faWn.js";function z(i,e,s){const a=i.slice();return a[2]=e[s].cards,a}function Q(i){let e,s="You haven't unlocked any cards yet.";return{c(){e=k("p"),e.textContent=s,this.h()},l(a){e=b(a,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1u2opq"&&(e.textContent=s),this.h()},h(){u(e,"class","text-center text-gray-600")},m(a,n){S(a,e,n)},p:j,d(a){a&&_(e)}}}function R(i){let e,s="Your Collection",a,n,h=G(i[1]),t=[];for(let l=0;l<h.length;l+=1)t[l]=A(z(i,h,l));return{c(){e=k("h2"),e.textContent=s,a=P(),n=k("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=b(l,"H2",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-oetift"&&(e.textContent=s),a=I(l),n=b(l,"DIV",{class:!0});var o=w(n);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(_),this.h()},h(){u(e,"class","text-xl font-semibold mb-4"),u(n,"class","grid grid-cols-1 md:grid-cols-3 gap-6")},m(l,o){S(l,e,o),S(l,a,o),S(l,n,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(n,null)},p(l,o){if(o&2){h=G(l[1]);let r;for(r=0;r<h.length;r+=1){const p=z(l,h,r);t[r]?t[r].p(p,o):(t[r]=A(p),t[r].c(),t[r].m(n,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=h.length}},d(l){l&&(_(e),_(a),_(n)),L(t,l)}}}function A(i){let e,s,a,n,h,t,l,o=i[2].name+"",r,p,C,x=i[2].description+"",E,y;return{c(){e=k("div"),s=k("img"),h=P(),t=k("div"),l=k("h3"),r=q(o),p=P(),C=k("p"),E=q(x),y=P(),this.h()},l(v){e=b(v,"DIV",{class:!0});var d=w(e);s=b(d,"IMG",{src:!0,alt:!0,class:!0}),h=I(d),t=b(d,"DIV",{class:!0});var f=w(t);l=b(f,"H3",{class:!0});var m=w(l);r=V(m,o),m.forEach(_),p=I(f),C=b(f,"P",{class:!0});var g=w(C);E=V(g,x),g.forEach(_),f.forEach(_),y=I(d),d.forEach(_),this.h()},h(){Y(s.src,a=i[2].image_url)||u(s,"src",a),u(s,"alt",n=i[2].name),u(s,"class","w-full h-48 object-cover"),u(l,"class","text-lg font-semibold"),u(C,"class","text-gray-600"),u(t,"class","p-4"),u(e,"class","bg-white rounded-lg shadow-md overflow-hidden")},m(v,d){S(v,e,d),c(e,s),c(e,h),c(e,t),c(t,l),c(l,r),c(t,p),c(t,C),c(C,E),c(e,y)},p(v,d){d&2&&!Y(s.src,a=v[2].image_url)&&u(s,"src",a),d&2&&n!==(n=v[2].name)&&u(s,"alt",n),d&2&&o!==(o=v[2].name+"")&&U(r,o),d&2&&x!==(x=v[2].description+"")&&U(E,x)},d(v){v&&_(e)}}}function T(i){let e,s,a,n="Profile",h,t,l,o,r,p,C,x=i[1].length+"",E,y;function v(m,g){return m[1].length>0?R:Q}let d=v(i),f=d(i);return{c(){e=k("div"),s=k("div"),a=k("h1"),a.textContent=n,h=P(),t=k("p"),l=q("Username: "),o=q(i[0]),r=P(),p=k("p"),C=q("Cards Unlocked: "),E=q(x),y=P(),f.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var g=w(e);s=b(g,"DIV",{class:!0});var D=w(s);a=b(D,"H1",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-1p45uk1"&&(a.textContent=n),h=I(D),t=b(D,"P",{class:!0});var H=w(t);l=V(H,"Username: "),o=V(H,i[0]),H.forEach(_),r=I(D),p=b(D,"P",{class:!0});var $=w(p);C=V($,"Cards Unlocked: "),E=V($,x),$.forEach(_),D.forEach(_),y=I(g),f.l(g),g.forEach(_),this.h()},h(){u(a,"class","text-2xl font-bold mb-4"),u(t,"class","text-lg text-gray-700"),u(p,"class","text-gray-600"),u(s,"class","bg-white rounded-lg shadow-md p-8 mb-8"),u(e,"class","max-w-4xl mx-auto")},m(m,g){S(m,e,g),c(e,s),c(s,a),c(s,h),c(s,t),c(t,l),c(t,o),c(s,r),c(s,p),c(p,C),c(p,E),c(e,y),f.m(e,null)},p(m,[g]){g&1&&U(o,m[0]),g&2&&x!==(x=m[1].length+"")&&U(E,x),d===(d=v(m))&&f?f.p(m,g):(f.d(1),f=d(m),f&&(f.c(),f.m(e,null)))},i:j,o:j,d(m){m&&_(e),f.d()}}}function W(i,e,s){let a="",n=[];return F(async()=>{if(s(0,a=localStorage.getItem("username")||""),!a){const t=localStorage.getItem("token");O(`/?token=${t}`);return}const{data:h}=await N.from("user_cards").select(`
        *,
        cards:card_id (
          name,
          description,
          image_url
        )
      `).eq("username",a);s(1,n=h||[])}),[a,n]}class le extends J{constructor(e){super(),K(this,e,W,T,B,{})}}export{le as component};
